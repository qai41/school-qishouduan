(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"0ec8":function(t,e,a){"use strict";a.r(e);var s=a("6ed8"),i=a("e041");for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);a("9171");var r=a("2877"),c=Object(r["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=c.exports},2138:function(t,e,a){"use strict";a("7ed1");var s=n(a("b0ce")),i=n(a("0ec8"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(i.default))},"6ed8":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"grace-tab"},[t.showcar?a("myinfo",{staticClass:"left-cart",staticStyle:{"z-index":"99"},attrs:{mpcomid:"8cdfbac0-0"}}):t._e(),a("scroll-view",{staticClass:"grace-tab-title grace-space-between",attrs:{"scroll-x":!0,"scroll-into-view":t.titleShowId}},t._l(t.tabs,function(e,s){return a("view",{key:s,class:[t.tabCurrentIndex==s?"grace-tab-current":""],attrs:{id:"tabTag-"+s,eventid:"8cdfbac0-0-"+s},on:{tap:t.tabChange}},[t._v(t._s(e.name)),a("view",{staticClass:"nums"},[t._v(t._s(t.dindanNum))])])})),a("swiper",{staticClass:"grace-tab-swiper",attrs:{current:t.swiperCurrentIndex,eventid:"8cdfbac0-4"},on:{change:t.swiperChange}},[a("swiper-item",{staticStyle:{"margin-top":"80rpx"},attrs:{mpcomid:"8cdfbac0-1"}},[a("scroll-view",{attrs:{"scroll-y":"true"}},[a("view",{staticClass:"dan-list"},t._l(t.dingdandetail,function(e,s){return a("view",{key:e.id,staticClass:"items",attrs:{eventid:"8cdfbac0-2-"+s},on:{click:function(a){t.gopage(e)}}},[a("view",{staticClass:"grace-space-between dan-a grace-flex-vcenter"},[a("view",{staticClass:"g_floor"},[t._v("#"+t._s(e.id))]),a("view",{staticClass:"f25"},[t._v("尽快送达")]),a("view",{staticClass:"price f40 cred"},[t._v("￥"+t._s(e.total/100))])]),a("view",{staticClass:"dan-b grace-relative"},[a("view",{staticClass:"cell grace-space-between grace-flex-vcenter"},[a("view",{staticClass:"vtags f22 c77"},[t._v("取货")]),a("view",{staticClass:"desc flex_box_1"},[a("view",{staticClass:"f28"},[t._v(t._s(e.store.name))]),a("view",{staticClass:"f24 c77"},[t._v(t._s(e.store.address))])])]),a("view",{staticClass:"cell grace-space-between grace-flex-vcenter"},[a("view",{staticClass:"vtags f22 c77"},[t._v("送货")]),a("view",{staticClass:"desc flex_box_1"},[a("view",{staticClass:"f28"},[t._v(t._s(e.customer_address.school_building.name))])])])]),a("view",{staticClass:"grace-nowrap dan-c"},[a("view",{staticClass:"cell"},[t._v(t._s(e.customer_address.phone))]),a("view",{staticClass:"cell"},[t._v(t._s(e.store.phone))]),a("view",{staticClass:"cblue cell",attrs:{eventid:"8cdfbac0-1-"+s},on:{click:function(a){a.stopPropagation(),t.songda(e.id)}}},[t._v("确认送达")])])])}))])],1),a("swiper-item",{staticStyle:{"margin-top":"80rpx"},attrs:{mpcomid:"8cdfbac0-2"}},[a("scroll-view",{attrs:{"scroll-y":"true"}},t._l(t.carryOut,function(e,s){return a("view",{staticClass:"dan-list"},[a("view",{staticClass:"dan-date f32"},[t._v(t._s(e[0].created_at))]),t._l(e,function(e,i){return a("view",{key:e.id,staticClass:"items",attrs:{eventid:"8cdfbac0-3-"+s+"-"+i},on:{click:function(a){t.gopage(e)}}},[a("view",{staticClass:"grace-space-between dan-a grace-flex-vcenter"},[a("view",{staticClass:"g_floor"},[t._v("#"+t._s(e.id))]),a("view",{staticClass:"f25"},[t._v("已完成")]),a("view",{staticClass:"price f40 cred"},[t._v("￥"+t._s(e.total/100))])]),a("view",{staticClass:"dan-b grace-relative"},[a("view",{staticClass:"cell grace-space-between grace-flex-vcenter"},[a("view",{staticClass:"vtags f22 c77"},[t._v("取货")]),a("view",{staticClass:"desc flex_box_1"},[a("view",{staticClass:"f28"},[t._v(t._s(e.store.name))]),a("view",{staticClass:"f24 c77"},[t._v(t._s(e.store.address))])])]),a("view",{staticClass:"cell grace-space-between grace-flex-vcenter"},[a("view",{staticClass:"vtags f22 c77"},[t._v("送货")]),a("view",{staticClass:"desc flex_box_1"},[a("view",{staticClass:"f28"},[t._v(t._s(e.customer_address.school_building.name))])])])])])})],2)}))],1)],1)],1)},i=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return i})},"6f51":function(t,e,a){"use strict";a.r(e);var s=a("87fe"),i=a("9add");for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);a("9da8");var r=a("2877"),c=Object(r["a"])(i["default"],s["a"],s["b"],!1,null,"b40a7108",null);e["default"]=c.exports},"7a2b":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(a("a34a")),i=n(a("6f51"));function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,a,s,i,n,r){try{var c=t[n](r),o=c.value}catch(u){return void a(u)}c.done?e(o):Promise.resolve(o).then(s,i)}function c(t){return function(){var e=this,a=arguments;return new Promise(function(s,i){var n=t.apply(e,a);function c(t){r(n,s,i,c,o,"next",t)}function o(t){r(n,s,i,c,o,"throw",t)}c(void 0)})}}function o(t){return f(t)||l(t)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function f(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var d={data:function(){return{tabCurrentIndex:0,swiperCurrentIndex:0,tabs:[{name:"待完成",id:"daiwancheng",num:"2"},{name:"已完成",id:"yiwancheng",num:""}],titleShowId:"tabTag-0",pending:[],showcar:!1,dingdan:[],carrylist:[],iscarr:!1}},components:{myinfo:i.default},computed:{dindanNum:function(){return this.dingdan.length},dingdandetail:function(){return this.dingdan},carryOut:function(){var t=[],e=[],a=[];this.carrylist.map(function(e){t.push(e.created_at.split(" ")[0])}),t=new Set(t),t=o(t);for(var s=0;s<t.length;s++){e=[];for(var i=0;i<this.carrylist.length;i++)t[s]==this.carrylist[i].created_at.split(" ")[0]&&e.push(this.carrylist[i]);a.unshift(e)}return a}},methods:{tabChange:function(t){var e=t.target.id.replace("tabTag-","");this.swiperCurrentIndex=e,this.tabCurrentIndex=e,this.titleShowId="tabTag-"+e},swiperChange:function(){var t=c(s.default.mark(function t(e){var a;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=e.detail.current,this.tabCurrentIndex=a,this.titleShowId="tabTag-"+a,a?this.outList():this.carrylist=[];case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),gopage:function(t){var e=JSON.stringify(t);this.$mRouterConfig.push({router:this.$mRouter.OrderDetails,query:{titl1:e}})},outList:function(){var t=this;this.$api.courier_order({status:6}).then(function(e){if("success"==e.status&&200==e.status_code)for(var a in e.data.orders)t.carrylist.push(e.data.orders[a])})},getList:function(){var e=this,a=this;this.$api.courier_order().then(function(t){if("success"==t.status&&200==t.status_code)for(var a in t.data.orders)e.dingdan.push(t.data.orders[a])});var s=this.$store.state.token;t.connectSocket({url:"ws://47.106.104.248:5555?token="+s+"&type=courier"}),t.onSocketMessage(function(t){var e=JSON.parse(t.data);"notice"==e.type&&(a.$mUtils.msg({title:e.message}),a.dingdan.unshift(e.order_data))})},songda:function(t){var e=this;console.log(t),this.$api.determine(t).then(function(t){"success"==t.status&&200==t.status_code&&e.$mUtils.msg({title:t.data.message})})}},onNavigationBarButtonTap:function(t){this.showcar=!this.showcar},created:function(){this.getList(),t.hideTabBar()}};e.default=d}).call(this,a("6e42")["default"])},"87fe":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"page grace-columns"},[a("view",{staticClass:"conten grace-columns"},[a("view",{staticClass:"user-head "},[a("view",{staticClass:"grace-rows grace-space-between"},[a("text",[t._v(t._s(t.userinfo.is_work?"接单中":"休息中"))]),a("view",{class:[t.userinfo.is_work?"active":"","btn","grace-nowrap"],attrs:{eventid:"7fe4fc4c-0"},on:{tap:t.changework}},[a("view")])])]),a("view",{staticClass:"user-content"},[a("view",{staticClass:"title grace-wrap grace-flex-vcenter",attrs:{eventid:"7fe4fc4c-1"},on:{tap:function(e){t.jumppage("wallet")}}},[a("image",{attrs:{src:"../../static/whillt.png"}}),a("text",[t._v("钱包")])]),a("view",{staticClass:"title acrive grace-wrap grace-flex-vcenter",attrs:{eventid:"7fe4fc4c-2"},on:{tap:function(e){t.jumppage("myinfo")}}},[a("image",{attrs:{src:"../../static/setting.png"}}),a("text",[t._v("设置")])])])])])},i=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return i})},9171:function(t,e,a){"use strict";var s=a("c3f5"),i=a.n(s);i.a},"9add":function(t,e,a){"use strict";a.r(e);var s=a("ccb4"),i=a.n(s);for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},"9da8":function(t,e,a){"use strict";var s=a("b1e1"),i=a.n(s);i.a},b1e1:function(t,e,a){},c3f5:function(t,e,a){},ccb4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={data:function(){return{iswork:!1,userinfo:""}},methods:{changework:function(){var t=this;this.userinfo.is_work=!this.userinfo.is_work;var e={is_work:this.userinfo.is_work?1:0};this.$api.checkwork(e).then(function(e){"success"==e.status&&200==e.status_code&&(t.$mUtils.msg({title:e.data.message}),t.getCurInfo())})},jumppage:function(t){this.$mRouterConfig.push({router:this.$mRouter["".concat(t)]})},getCurInfo:function(){var t=this;this.$api.courierinfo().then(function(e){"success"==e.status&&200==e.status_code&&(console.log(JSON.stringify(e.data)),t.userinfo=e.data)})}},created:function(){this.getCurInfo()}};e.default=s},e041:function(t,e,a){"use strict";a.r(e);var s=a("7a2b"),i=a.n(s);for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);e["default"]=i.a}},[["2138","common/runtime","common/vendor"]]]);